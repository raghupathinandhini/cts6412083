-- Create SAVINGS_ACCOUNTS table

CREATE TABLE SAVINGS_ACCOUNTS (
  AccountID NUMBER PRIMARY KEY,
  CustomerID NUMBER REFERENCES CUSTOMERS(CustomerID),
  Balance NUMBER
);

-- Insert sample savings accounts
INSERT INTO SAVINGS_ACCOUNTS VALUES (201, 1, 5000);
INSERT INTO SAVINGS_ACCOUNTS VALUES (202, 2, 8000);
INSERT INTO SAVINGS_ACCOUNTS VALUES (203, 3, 3000);
INSERT INTO SAVINGS_ACCOUNTS VALUES (204, 4, 15000);


-- Create EMPLOYEES table

CREATE TABLE EMPLOYEES (
  EmployeeID NUMBER PRIMARY KEY,
  Name VARCHAR2(50),
  DepartmentID NUMBER,
  Salary NUMBER
);

-- Insert sample employees
INSERT INTO EMPLOYEES VALUES (301, 'Eve', 10, 4000);
INSERT INTO EMPLOYEES VALUES (302, 'Frank', 20, 5000);
INSERT INTO EMPLOYEES VALUES (303, 'Grace', 10, 6000);

-- Create Accounts table

CREATE TABLE ACCOUNTS (
  AccountID NUMBER PRIMARY KEY,
  CustomerID NUMBER REFERENCES CUSTOMERS(CustomerID),
  Balance NUMBER
);

-- Insert sample accounts
INSERT INTO ACCOUNTS VALUES (401, 1, 10000);
INSERT INTO ACCOUNTS VALUES (402, 1, 5000);
INSERT INTO ACCOUNTS VALUES (403, 2, 2000);

--code:

Scenario 1: Process Monthly Interest for all savings accounts
CREATE OR REPLACE PROCEDURE ProcessMonthlyInterest IS
BEGIN
  FOR rec IN (SELECT AccountID, Balance FROM SAVINGS_ACCOUNTS) LOOP
    UPDATE SAVINGS_ACCOUNTS
    SET Balance = Balance + (Balance * 0.01)
    WHERE AccountID = rec.AccountID;
  END LOOP;
  COMMIT;
END;
/


